---
layout: post  
title: "[자료구조] 4장. 스택"
date: 2022-10-20
excerpt: "파이썬으로 쉽게 풀어쓴 자료구조 3장을 정리한 내용입니다"
tag:
- 자료구조
comments: true
--- 

# 4.1 스택이란?

---

## ✅ 스택은 후입선출(Last-In First Out:LIFO)의 자료구조이다.

- 배열 구조와 연결된 구조로 모두 표현 가능
- 스택은 자료의 입출력이 후입선출의 형태이다.
- 다른 통로들은 모두 막고 후단만을 열어둔 구조와 같음
- 열린 곳 : 스택 상단(top)

## ✅ 스택의 추상자료형

### 데이터
- 후입선출(LIFO)의 접근 방법을 유지하는 항목들의 모임

### 연산
- Stack() : 비어 있는 새로운 스택을 만든다
- isEmpty() : 스택이 비어있으면 True, 아니면 False
- push(e) : 항목 e를 맨 위에 추가
- pop() : 스택의 맨 위에 있는 항목을 꺼내 반환
- peek() : 스택의 맨 위에 있는 항목을 삭제하지 않고 반환
- size() : 스택내의 모든 항목들의 개수를 반환
- clear() : 스택을 공백상태로 만든다

## ✅ 스택의 용도
- 되돌리기
- 함수호출
- 괄호검사
- 계산기 : 후위 표기식 계산, 중위 표기식의 후위 표기식 변환
- 미로탐색 등

# 4.2 스택의 구현

---

## ✅ 배열 구조를 이용한 스택의 함수 구현
- top : 스택 항목을 저장하는 파이썬 리스트
- 항목 개수는 len(top)으로 구할 수 있음
- push(item) : 삽입연산 - 스택 상단에 항목을 추가. 리스트 맨 뒤를 스택의 상단으로 사용하면 대부분 시간복잡도 O(1).
- pop() : 삭제 연산. 항상 시간복잡도 O(1).

- cf) 역순으로 출력 : self.top[::-1]

- cf) 스택 객체 정보가 아닌 스택 내용이 출력되려면 중복 연산자 \_\_str\_\_를 활용하여 str(출력할 내용)을 입력받아야 함

# 4.3 스택의 응용 : 괄호 검사

---

- 괄호 종류 : 대중소
- 조건1 : 왼쪽 괄호의 개수와 오른쪽 괄호의 개수가 같아야 한다
- 조건2 : 같은 타입의 괄호에서 왼쪽 괄호가 오른쪽 괄호보다 먼저 나와야 한다
- 조건3 : 서로 다른 타입의 괄호 쌍이 서로를 교차하면 안됨

## ✅ 괄호 검사 알고리즘
- 가장 가까운 거리에 있는 괄호들끼리 서로 쌍을 이뤄야 함
- 문자를 저장하는 스택을 준비. 처음에는 공백 상태가 되어야 함.
- 오른쪽 괄호를 만나면 pop() 연산으로 가장 최근에 삽입된 괄호를 꺼낸다. 이때 스택이 비었으면 조건 2에 위배.
- 꺼낸 괄호가 오른쪽 괄호와 짝이 맞지 않으면 조건3에 위배.
- 끝까지 처리했는데 스택에 괄호가 남아있으면 조건 1에 위배.

![](https://user-images.githubusercontent.com/77424107/197353791-6cff2b0b-71db-4e41-8a77-d89c71c39e27.png)

# 4.4 스택의 응용 : 수식의 계산

---

## ✅ 계산기 프로그램은 어떻게 만들까?

### ✔️ 수식의 표기 방법 3가지

|전위(prefix)|중위(infix)|후위(postfix)|
|-------|-------|-------|
|연산자 피연산자1 피연산자2|피연산자1 연산자 피연산자2|피연산자1 피연산자2 연산자|
|+ A B|A + B|A B +|
|+ 5 * A B|5 + A * B|5 A B * +|

### ✔️ 수식 계산 과정
- 사람 : 중위 표기법
- 계산기 : 후위 표기법 

### ✔️ 컴퓨터 입장에서 후위 표기법의 장점
- 괄호를 사용하지 않아도 계산 순서를 알 수 없음
- 연산자의 우선순위를 생각할 필요가 없음
- 수식을 읽으면서 바로 계산 가능

### ✔️ 계산기 프로그램을 위해서는 중위표기의 변환과, 후위수식의 계산 과정이 필요함

## ✅ 스택을 이용한 후위표기 수식의 계산

![](https://user-images.githubusercontent.com/77424107/197356493-85c1435f-bdd0-4c38-8709-8b20607826bf.png)

## ✅ 스택을 이용한 중위표기 수식의 후위표기 변환

### ✔️ 중위표기와 후위표기
- 공통점 : 피연산자의 순서가 동일
- 연산자들의 순서만 다름(우선순위순서) : 연산자만 스택에 저장했다가 출력

### ✔️ 알고리즘
- 입력된 중위표기 수식을 순서대로 하나씩 스캔
- 피연산자를 만나면 바로 출력
- 연산자를 만나면 어딘가에 잠시 저장
- 현재 연산자보다 우선순위가 먼저인 연산자는 모두 먼저 출력한 후 현재 연산자를 스택에 넣는다.
- 우선순위가 같은 경우에는 먼저 나온 연산자가 먼저 처리되어야 하므로 꺼내서 출력
- 입력 수식이 끝나면 스택의 모든 남은 연산자들을 pop()해서 후위표기 수식으로 출력
- 괄호가 포함된 수식의 경우 왼쪽 괄호를 제일 우선순위가 나중인 연산자로 취급
- 오른쪽 괄호를 만나면 왼쪽 괄호가 삭제될때까지 왼쪽 괄호위의 쌓여 있는 모든 연산자들 출력

# 4.5 스택의 응용 : 미로 탐색

---

## ✅ 깊이우선탐색(DFS) 이용
- 가던 길이 막히면 최근에 있었던 갈림길로 되돌아가서 다른 곳을 찾아봄

### ✔️ 탐색 알고리즘
- 모든 칸의 위치는 (열, 행)으로 표시하자(x, y 순서)
- step 1 : 시작위치를 스택에 넣는다. 현재 스택에는 시작위치만 들어있다.
- step 2 : 스택이 공백이 아니면 하나의 위치를 꺼낸다. 이것이 현재 위치. 현재 위치에 방문했음 표시를 함. 만약 스택이 공백이라면 이 미로에는 출구가 없는 것이므로 종료.
- step 3 : 만약 현재위치가 출구이면 탐색은 성공으로 끝남
- step 4 : 그렇지 않으면 이웃(상하좌우)방들을 살펴봄. 만약 이웃 방들이 아직 방문되지 않았고 갈 수 있는 방이라면 그 방의 위치를 모두 스택에 삽입하고 step2로 되돌아간다.
- 상하좌우 어디로도 못간다면 스택에 있는 다음 항목 꺼냄